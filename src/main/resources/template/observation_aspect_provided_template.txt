package com.hayden.tracing_apt

import org.aspectj.lang.ProceedingJoinPoint
import org.aspectj.lang.annotation.Aspect
import org.springframework.stereotype.Component
import com.hayden.tracing_apt.Logged

@Aspect
@Component
open class {{aspect_name}}(
    private val observation: ObservationBehavior
) {

    {{before_pointcut}}
    {{after_pointcut}}
    {{around_pointcut}}

    {{advice}}
    @Throws(Throwable::class)
    public open fun {{aspect_fn_name}}(joinPoint: ProceedingJoinPoint): Any? {
        return observation.doObservation(ObservationBehavior.DiObservationArgs(joinPoint, "{{aspect_name}}")
    }
}
